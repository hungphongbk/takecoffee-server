(function(){!function(n){return n.openDialogAjax=function(t,e,i,l){return null==i&&(i=null),null==l&&(l=null),n.ajax({type:"GET",url:t,success:function(t){var o,u,a,r,c,f;if(e=n(e),e.find(".modal-content").html(t),i&&(r=e.find(".modal-dialog"),r.css(i)),l)for(c in l)f=l[c],-1===c.indexOf("->")?e.on(c,f):(a=c.split("->"),o=n(a[0].trim()),u=a[1].trim(),o.on(u,f));e.modal("show")},error:function(){return alert("failure")}})},n.fn.extend({extendedFileInput:function(t){return this.each(function(){var e,i,l,o,u,a,r,c;a=n(this),l=a.closest("form")[0],o=l.upload_type,i=l.existing_id,e=a.find(".select-existing"),u=n("#selectModal"),c=function(t){return n(o).val(t)},r=function(){var e;return e={"margin-top":"60px"},n.openDialogAjax(t,u,e,{"shown.bs.modal":function(t){var e,i;e=n(t.target),i=e.find(".ui-selectable"),i.selectable({stop:function(){var t;t=n(".ui-selected").data("id")}})},"hidden.bs.modal":function(){n(this).data("bs.modal",null)},".select-btn->click":function(){alert("fuck you")}})},a.on("change.bs.fileinput",function(){return c(0)}),e.on("click",function(){return r()})})}})}(jQuery)}).call(this);